---
title: TCP/IP详解阅读笔记(1)
date: 2019-11-10 15:24:35
categories:
  -  [学习]
  -  [阅读笔记]
tags:
	- 网络
	- tcp
---





# Internet地址结构

## IP结构

![ip结构](TCP-IP详解阅读笔记-1/20180516234646156.png)

<!--more-->

| 类型 | 可用位数 | 最大二进制表示                      | 十进制表示      | 可用网络号位数 | 可用主机号位数 |
| ---- | -------- | ----------------------------------- | --------------- | -------------- | -------------- |
| A类  | 7        | 01111110                            | 126             | $2^7$ -1       | $2^{24}-2$     |
| B类  | 14       | 10111111.11111111                   | 191.255         | $2^{14}$       | $2^{16}-2$     |
| C类  | 21       | 11011111.11111111.11111111          | 223.255.255     | $2^{21}$       | $2^{8}-2$      |
| D类  | 28       | 11101111.11111111.11111111.11111111 | 239.255.255.255 | $N/A$          | $N/A$          |
| E类  | 28       | 11111111.11111111.11111111.11111110 | 255.255.255.254 | $N/A$          | $N/A$          |

[^注]: 目前Internet上只能看到传统的ABCD类，对于自身站点，接入Internet主机后的网络划分改变了网络部分和主机部分的的限制



## 子网寻址

![子网的例子](/Users/cxz/gitHub/blog/source/_posts/TCP-IP详解阅读笔记-1/image-20191110162341897.png)

[^注]: 每个子网主机地址的首和尾都不能使用,分别代表网络号和广播地址

### 增加网络地址

可以在137.168.23.30的主机上增加/26+掩码的地址

*例如：128.32.230.129/26*

也可以在子网段的主机上增加/26+的地址

*例如：128.32.1.x/26 或者 128.32.2.x/26*



**总结：**

网络号可以增加网络地址,划分主机结构

但是并不能增多主机地址的数量

## 广播地址

作用：向子网的所有地址发送数据报

### 本地广播地址

255.255.255.255

[^注]:广播和组播不相同

## IPV6

### EUI64标准(已有新标准RFC 7217)

由64位组成

前24位是OUI（组织位移标识符）+40位扩展标识符

生成方式

例如linux：

Mac地址：00:30:48:2A:19:89

1. 00:30:48:ff:fe:2A:19:89

2. 02:30:48:ff:fe:2A:19:89 u位取反第一个字节的倒数第二位,第一个字节的倒数第一位是g位 

3. 添加默认本地前缀fe80::/10（链路本地单播地址）fe80:0230:48ff:fe2a:1989/64




### TCP的三次握手


1. PC向Server发送请求(该请求有同步标记SYN和随机的SEQ号代表此次请求)
2. Server收到并且返回请求(该请求有响应标记ACK、一个ack number,ack number = seq+1 代表对那个指定的请求作出响应、随机的SEQ号代表此次请求)
3. PC收到请求后返回一个请求(该请求有响应标记ACK、一个ack number,ack number = seq+1,随机的SEQ号代表此次请求)



### TCP的四次挥手

1. PC向Server发送请求(该请求有结束标记FIN、响应标记ACK、随机的SEQ号代表此次请求)
2. Server向PC发送请求(该请求有结束标记FIN、响应标记ACK、随机的SEQ号代表此次请求、seq number = 上一个请求的ack number 代表对那个指定的请求作出响应,ack number= seq+1 )
3. PC向Server发送请求(响应标记ACK、seq number = 上一个请求的ack number, ack number=seq ) 
4. Server停止响应